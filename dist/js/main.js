(()=>{"use strict";var e={563:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Clicker=void 0;const s=r(187),i=r(729),c=r(681);t.Clicker=class{constructor(e,t){this.counter=e,this.button=t,this.clicks=0,this.upgrades={clickSize:1,clicksPerSecond:0},this.startGame=()=>{this.returnSetting(),this.button.addEventListener("click",(e=>{e.preventDefault(),this.addCount()})),new s.Theme((0,c.getElementBySelector)("#theme")),new i.Upgrades(this.decreasePrice,this.getClicks,this.upgrades).start()},this.setCount=e=>{const t=Math.floor(e);!isNaN(e)&&e>=0&&(this.clicks=t,this.counter.textContent=String(t),(0,c.setDataToLocalStorage)("clicks",t))},this.addCount=(e=this.upgrades.clickSize)=>{this.setCount(this.clicks+e)},this.getClicks=()=>this.clicks,this.returnSetting=()=>{const e=(0,c.getDataFromLocalStorage)(c.LocalStorage.CLICKS);this.setCount(+e||0),this.upgrades=(0,c.getDataFromLocalStorage)("upgrades")||this.upgrades,setInterval((()=>{this.addCount(this.upgrades.clicksPerSecond)}),1e3)},this.decreasePrice=e=>{this.setCount(this.clicks-Math.floor(e))}}}},187:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Theme=void 0;const s=r(682),i=r(681);t.Theme=class{constructor(e){this.themingChangeElement=e,this.currentTheme=s.themes.LIGHT,this.start=()=>{this.setThemeFromLS(),this.themingChangeElement.addEventListener("click",(()=>{this.setTheme(this.currentTheme===s.themes.LIGHT?s.themes.DARK:s.themes.LIGHT)}))},this.setThemeFromLS=()=>{const e=(0,i.getDataFromLocalStorage)("theme")||s.themes.LIGHT;this.setTheme(e)},this.setTheme=e=>{switch(this.currentTheme=e,(0,i.setDataToLocalStorage)("theme",e),e){case s.themes.DARK:document.body.classList.add("dark");break;case s.themes.LIGHT:document.body.classList.remove("dark")}},this.start()}}},682:(e,t)=>{var r,s,i;Object.defineProperty(t,"__esModule",{value:!0}),t.themes=t.TypesUpgrades=t.Selectors=void 0,(i=t.Selectors||(t.Selectors={})).PER_SEC="#per-sec",i.PER_CLICK="#per-click",(s=t.TypesUpgrades||(t.TypesUpgrades={})).PER_CLICK="perClick",s.PER_SEC="perSec",(r=t.themes||(t.themes={})).DARK="dark",r.LIGHT="light"},729:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Upgrades=void 0;const s=r(682),i=r(681);t.Upgrades=class{constructor(e,t,r){this.decreasePrice=e,this.getClicks=t,this.multiplierPrice={perClick:1,perSec:1},this.start=()=>{this.setMultiplierPriceFromLS(),this.showPrices();const e=(e,t)=>{(0,i.getElementBySelector)(`${e} button`).addEventListener("click",t)};e(s.Selectors.PER_CLICK,(()=>this.upgrade(s.TypesUpgrades.PER_CLICK,1))),e(s.Selectors.PER_SEC,(()=>this.upgrade(s.TypesUpgrades.PER_SEC,1))),this.renderUpgrades()},this.showPrices=()=>{const e=(e,t)=>{(0,i.getElementBySelector)(`${e} .price`).textContent=String(Math.floor(t))};e(s.Selectors.PER_CLICK,10*this.multiplierPrice.perClick),e(s.Selectors.PER_SEC,50*this.multiplierPrice.perSec)},this.upgrade=(e,t)=>{const r=Math.floor(e===s.TypesUpgrades.PER_CLICK?10*this.multiplierPrice.perClick:50*this.multiplierPrice.perSec);this.getClicks()>=r?(this.decreasePrice(r),e===s.TypesUpgrades.PER_CLICK?(this.upgrades.clickSize+=t,this.multiplierPrice.perClick*=1.75):(this.upgrades.clicksPerSecond+=t,this.multiplierPrice.perSec*=1.75),this.showPrices(),this.renderUpgrades(),(0,i.setDataToLocalStorage)(i.LocalStorage.UPGRADES,this.upgrades),(0,i.setDataToLocalStorage)(i.LocalStorage.MULTIPLIER_PRICE,{multiplierPricePerClick:Math.floor(this.multiplierPrice.perClick),multiplierPricePerSec:Math.floor(this.multiplierPrice.perSec)})):alert("Недостаточно кликов для покупки")},this.renderUpgrades=()=>{(0,i.getElementBySelector)("#counterPerClick").textContent=String(this.upgrades.clickSize),(0,i.getElementBySelector)("#counterPerSec").textContent=String(this.upgrades.clicksPerSecond)},this.setMultiplierPriceFromLS=()=>{const e=(0,i.getDataFromLocalStorage)(i.LocalStorage.MULTIPLIER_PRICE);e&&(this.multiplierPrice.perClick=e.multiplierPricePerClick,this.multiplierPrice.perSec=e.multiplierPricePerSec)},this.upgrades=r}}},681:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.getElementBySelector=t.LocalStorage=t.setDataToLocalStorage=t.getDataFromLocalStorage=void 0,t.getDataFromLocalStorage=e=>JSON.parse(localStorage.getItem(e)),t.setDataToLocalStorage=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},(r=t.LocalStorage||(t.LocalStorage={})).CLICKS="clicks",r.THEME="theme",r.MULTIPLIER_PRICE="multiplierPrice",r.UPGRADES="upgrades",t.getElementBySelector=e=>document.querySelector(e)}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var c=t[s]={exports:{}};return e[s](c,c.exports,r),c.exports}(()=>{const e=r(563),t=document.querySelector("#counter"),s=document.querySelector("#button");new e.Clicker(t,s).startGame()})()})();